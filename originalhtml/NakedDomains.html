<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>NakedDomains</title>
<link rel="stylesheet" type="text/css" media="all" charset="utf-8" href="pythonanywhere/css/common.css">
<link rel="stylesheet" type="text/css" media="screen" charset="utf-8" href="pythonanywhere/css/screen.css">
<link rel="stylesheet" type="text/css" media="print" charset="utf-8" href="pythonanywhere/css/print.css">
<style type="text/css">
ul.pagetitle{
  display: inline;
  margin: 0;
  padding: 0;
  font-size: 1.5em;
}
li.pagetitle{
  display: inline;
  margin: 0;
}
td.noborder {
  border: 0;
}
</style>
</head>
<body>
<table>
<tr>
<td class="noborder">
<img src="logo.png">
</td>
<td class="noborder">
<ul class="pagetitle">
<li class="pagetitle"><a class="backlink">NakedDomains</a>
</ul>
<br><br>
[<a href="PythonAnywhereWiki.html">PythonAnywhereWiki</a>]&nbsp;[<a href="TitleIndex.html">TitleIndex</a>]&nbsp;[<a href="WordIndex.html">WordIndex</a>]&nbsp;
</td>
</tr>
</table>
<hr>
<div id="page">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867">
<h2 id="The_problem_with_.22naked.22_domains">The problem with "naked" domains</h2>
<span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><p class="line862">When you're setting up a web application at <a href="./PythonAnywhere.html">PythonAnywhere</a> and want to have it running on your own domain, we ask you to set up a CNAME record with your DNS provider.  <span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><p class="line862">The problem is, CNAMEs don't work if you don't have anything in front of the domain name -- that is, you can have a CNAME for <tt class="backtick">www.yourdomain.com</tt>, or <tt class="backtick">somethingelse.yourdomain.com</tt>, but not for just <tt class="backtick">yourdomain.com</tt>. This is a limitation of the way DNS works. <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><p class="line862">But understandably lots of people want their users to be able to just go to <tt class="backtick">http://yourdomain.com/</tt> and get the site. There are two ways to do this: <span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><ol type="1"><li><p class="line862">Use a redirection service so that when someone goes to <tt class="backtick">http://yourdomain.com/</tt> they are redirected to <tt class="backtick">http://www.yourdomain.com/</tt>, or if they go to <tt class="backtick">http://yourdomain.com/foo</tt> they are redirected to <tt class="backtick">http://www.yourdomain.com/foo</tt>, and so on. This is the best solution, and many domain name registrars/DNS providers support it, often calling it something like "web site redirection" or "URL forwarding".  If you're using <a class="nonexistent" href="./GoDaddy.html">GoDaddy</a>, you may find <a class="http" href="http://webmasters.stackexchange.com/questions/9849/how-to-forward-non-www-to-www-using-godaddy-dns-manager">this post</a> useful.  We've also had one user recommend <a class="http" href="http://wwwizer.com/naked-domain-redirect">http://wwwizer.com/naked-domain-redirect</a>. <span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span></li><li class="gap"><p class="line862">Use an A record for <tt class="backtick">yourdomain.com</tt> and a CNAME for <tt class="backtick">www.yourdomain.com</tt>. The A record has to be an IP address -- use the one associated with the <tt class="backtick">webapp-XXXX.pythonanywhere.com</tt> value that the "Web" tab tells you to use for your CNAME. This is a much worse solution, but if you can't set up the redirection service then it might be the only way. <span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span></li></ol><p class="line874">There are three reasons why the redirection setup is much better: <span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><ol type="1"><li><p class="line862">If your webapp uses a CNAME, then we at <a href="./PythonAnywhere.html">PythonAnywhere</a> can much more easily load-balance it. We control the DNS for <tt class="backtick">*.pythonanywhere.com</tt> (obviously) so if your DNS settings say that your domain is wherever <tt class="backtick">yourusername.pythonanywhere.com</tt> is, when we change our DNS for <tt class="backtick">yourusername.pythonanywhere.com</tt> then your website will automatically follow. <span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span></li><li class="gap"><p class="line862">If you use the A record setup, then you essentially have two copies of your site on the Internet, one at <tt class="backtick">www.yourdomain.com</tt> and one at <tt class="backtick">yourdomain.com</tt>. If someone links to you, they might link to one or the other -- you have no control over which. This means that the Google pagerank you get from incoming links is split between the two sites, which means that each one of your sites gets less than half the pagerank you'd get by having just one canonical version. This will really mess up how high up you appear in search results -- essentially, you're competing with yourself for placement. We've also heard that Google give lower ranking to sites that appear to be copies of other sites (to penalise spammers) -- so it could be even worse. <span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span></li><li class="gap"><p class="line862">You will need to set up a separate web app on the <a href="./PythonAnywhere.html">PythonAnywhere</a> "Web" tab to match the naked domain.  Every different domain needs its own web app so that our servers can forward HTTP requests based on the domain they request; so www.yourdomain.com and yourdomain.com need two different web apps.   You can still point the two entries at the same codebase -- the easiest way is probably to use "Manual Config", and then copy across the relevant lines from the WSGI file of your existing web app... <span class="anchor" id="line-20"></span></li></ol><span class="anchor" id="bottom"></span></div>
</div>
<hr>
2015-09-17 14:07
</body>
</html>
