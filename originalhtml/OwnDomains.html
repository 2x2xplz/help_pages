<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>OwnDomains</title>
<link rel="stylesheet" type="text/css" media="all" charset="utf-8" href="pythonanywhere/css/common.css">
<link rel="stylesheet" type="text/css" media="screen" charset="utf-8" href="pythonanywhere/css/screen.css">
<link rel="stylesheet" type="text/css" media="print" charset="utf-8" href="pythonanywhere/css/print.css">
<style type="text/css">
ul.pagetitle{
  display: inline;
  margin: 0;
  padding: 0;
  font-size: 1.5em;
}
li.pagetitle{
  display: inline;
  margin: 0;
}
td.noborder {
  border: 0;
}
</style>
</head>
<body>
<table>
<tr>
<td class="noborder">
<img src="logo.png">
</td>
<td class="noborder">
<ul class="pagetitle">
<li class="pagetitle"><a class="backlink">OwnDomains</a>
</ul>
<br><br>
[<a href="PythonAnywhereWiki.html">PythonAnywhereWiki</a>]&nbsp;[<a href="TitleIndex.html">TitleIndex</a>]&nbsp;[<a href="WordIndex.html">WordIndex</a>]&nbsp;
</td>
</tr>
</table>
<hr>
<div id="page">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867">
<h1 id="Setting_up_a_custom_domain_on_PythonAnywhere">Setting up a custom domain on PythonAnywhere</h1>
<span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><p class="line862">If you have a paid account on <a href="./PythonAnywhere.html">PythonAnywhere</a>, you can set up web apps on your own domain -- that is, a domain that is not <em>your-username</em><tt>.pythonanywhere.com</tt> <span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><p class="line867">
<h2 id="Configuring_the_domain_at_the_domain_registrar">Configuring the domain at the domain registrar</h2>
<span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><p class="line862">To use your own domain name with a <a class="https" href="https://www.pythonanywhere.com/">PythonAnywhere</a> web app there are two steps <span class="anchor" id="line-8"></span><ol type="1"><li><p class="line862">Purchase a domain name from a <a class="https" href="https://en.wikipedia.org/wiki/Domain_name_registry">domain name registry</a>. <span class="anchor" id="line-9"></span></li><li><p class="line862">Create a CNAME record for (say) www.yourdomain.com pointing to the value specified on the "Web" tab for your application; this will be of the form <strong>webapp-XXXX.pythonanywhere.com</strong>.  This tells <a class="http" href="http://en.wikipedia.org/wiki/Domain_Name_System">the domain name system</a> that when someone asks for your website, they should get it from us. <span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span></li></ol><p class="line867">
<h2 id="Domains_without_a_www_prefix_.28naked_domains.29">Domains without a www prefix (naked domains)</h2>
<span class="anchor" id="line-12"></span><p class="line862">One small problem with setting up DNS like this is that it doesn't allow "naked domains" -- that is, you can have your site at <tt class="backtick">www.yourdomain.com</tt> or <tt class="backtick">somethingelse.yourdomain.com</tt>, but not at just <tt class="backtick">yourdomain.com</tt>.  <a href="./NakedDomains.html">Here's some more information about that, and some recommendations</a>.   <span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><p class="line867">
<h2 id="General_Instructions">General Instructions</h2>
<span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><p class="line862">CNAME records have two parts. The <strong>Alias</strong> and the <em>Canonical Name</em>. The alias in this case should be <strong>www</strong>. The address should be the value from the "Web" tab.  <span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><p class="line874">Different DNS providers call them different things. So: <span class="anchor" id="line-19"></span><span class="anchor" id="line-20"></span><ul><li>Alias, AKA: domain name, Alias name,  <span class="anchor" id="line-21"></span></li><li>Canonical Name, AKA: the address, FQDN, Fully Qualified Domain Name, or Host Name. <span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span></li></ul><p class="line867">
<h2 id="Testing_your_configuration">Testing your configuration</h2>
<span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span><p class="line862">CNAME changes can take a little while to propagate from your registrar to the rest of the Internet.  You can see whether the change has reached <a href="./PythonAnywhere.html">PythonAnywhere</a> yet by looking at the app on the web tab; it will show a warning if the CNAME it sees for your domain is not the one it expects.  You can also use this <a class="https" href="https://www.whatsmydns.net/">CNAME lookup tool</a> if you want to get a second opinion -- enter your web app's name (including the "www") and select "CNAME" from the dropdown.  It will check the CNAME from a bunch of different places around the Internet, which will give you a feel for how far the setup has got. <span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span><p class="line874">If your CNAME is still not working after a couple of hours, you should double-check your setup.   <span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><p class="line867">
<h2 id="Specific_DNS_providers">Specific DNS providers</h2>
<span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span><ul><li><p class="line891"><a class="http" href="http://support.godaddy.com/help/article/7921/adding-or-editing-cname-records">godaddy.com</a> <span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span></li></ul><p class="line867">
<h2 id="Associating_a_PythonAnywhere_web_app_with_your_domain">Associating a PythonAnywhere web app with your domain</h2>
<span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><p class="line874">If you want to create a new web app associated with the domain, just click the "Add a new web app" button on the Web tab, and specify the domain on the first page. <span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><p class="line862">If you want your domain to show a web app that you've already created, the process is a little more complicated.  Let's say that the app you want to show is currently displayed at <tt class="backtick">fred.pythonanywhere.com</tt>, and you want it to appear at <tt class="backtick">www.yourdomain.com</tt>.  Once you've done the CNAME setup as described above, here's what you do: <span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><ul><li><p class="line862">Click the "Add a new web app" button, and on the first page specify your domain (exactly as you did at the registrar -- don't forget the <tt class="backtick">www</tt> if you used it there). <span class="anchor" id="line-40"></span></li><li>On the next page, select "Manual configuration", then click next and complete the setup process.  This will set up a web app on your domain with a simple "Hello world" kind of page. <span class="anchor" id="line-41"></span></li><li><p class="line862">Now comes the more difficult bit; you need to replace the <a href="./PythonAnywhere.html">PythonAnywhere</a> configuration for your new domain with the one for the old domain.  This configuration is done by files inside <tt class="backtick">/var/www</tt> in your account.  Each domain you are running a web app for has a file there named after the domain, with dots replaced by underscores and <tt class="backtick">_wsgi.py</tt> at the end. <span class="anchor" id="line-42"></span></li><li>So: start a bash console <span class="anchor" id="line-43"></span></li><li>In it, copy the configuration for your existing app on top of the new app, with a command like this (don't forget to change the filenames to match your original domain and your new domain: <span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span><ul><li style="list-style-type:none"><p class="line891"><tt class="backtick">cp&nbsp;/var/www/fred_pythonanywhere_com_wsgi.py&nbsp;/var/www/www_yourdomain_com_wsgi.py</tt> <span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span></li></ul></li><li class="gap">Finally, go back to the Web tab and reload the web app for your new domain. <span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span></li></ul><p class="line874">That should do the job. <span class="anchor" id="line-50"></span><span class="anchor" id="bottom"></span></div>
</div>
<hr>
2015-08-21 13:55
</body>
</html>
