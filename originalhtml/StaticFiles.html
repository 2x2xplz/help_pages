<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>StaticFiles</title>
<link rel="stylesheet" type="text/css" media="all" charset="utf-8" href="pythonanywhere/css/common.css">
<link rel="stylesheet" type="text/css" media="screen" charset="utf-8" href="pythonanywhere/css/screen.css">
<link rel="stylesheet" type="text/css" media="print" charset="utf-8" href="pythonanywhere/css/print.css">
<style type="text/css">
ul.pagetitle{
  display: inline;
  margin: 0;
  padding: 0;
  font-size: 1.5em;
}
li.pagetitle{
  display: inline;
  margin: 0;
}
td.noborder {
  border: 0;
}
</style>
</head>
<body>
<table>
<tr>
<td class="noborder">
<img src="logo.png">
</td>
<td class="noborder">
<ul class="pagetitle">
<li class="pagetitle"><a class="backlink">StaticFiles</a>
</ul>
<br><br>
[<a href="PythonAnywhereWiki.html">PythonAnywhereWiki</a>]&nbsp;[<a href="TitleIndex.html">TitleIndex</a>]&nbsp;[<a href="WordIndex.html">WordIndex</a>]&nbsp;
</td>
</tr>
</table>
<hr>
<div id="page">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1-2"></span><p class="line867">
<h1 id="Static_files_mappings">Static files mappings</h1>
<span class="anchor" id="line-2-2"></span><span class="anchor" id="line-3-2"></span><p class="line874">Our static files support is an optional extra. If you're happy letting your web framework serve static files for you, then that's fine. Or if you want to you can give the job of serving static files to our web servers, by setting up a static files mapping -- it should mean your web worker has more time for non-static requests, the ones that actually need code. <span class="anchor" id="line-4-2"></span><span class="anchor" id="line-5-1"></span><p class="line862">Static files config is basically a mapping from a URL to a directory. You tell us where your files are (eg <em>/home/me/myapp/static</em>), and what URL you want them served at (eg <em>/static/</em>), and then hit "Reload web app". Then, any files inside the static folder will be served, eg <em>/home/me/myapp/static/css/base.css</em> will appear at <em><a class="http" href="http://me.pythonanywhere.com/static/css/base.css">http://me.pythonanywhere.com/static/css/base.css</a></em>. <span class="anchor" id="line-6-1"></span><span class="anchor" id="line-7-1"></span><span class="anchor" id="line-8-1"></span><p class="line867">
<h2 id="A_worked_example">A worked example</h2>
<span class="anchor" id="line-9-1"></span><span class="anchor" id="line-10-1"></span><p class="line874">Supposing you have some static files stored like this: <span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><p class="line867"><span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span><pre><span class="anchor" id="line-1"></span>/home/myusername/myproject
<span class="anchor" id="line-2"></span>└── assets
<span class="anchor" id="line-3"></span>    ├── css
<span class="anchor" id="line-4"></span>    │   ├── base.css
<span class="anchor" id="line-5"></span>    │   └── bootstrap.css
<span class="anchor" id="line-6"></span>    ├── images
<span class="anchor" id="line-7"></span>    │   ├── img1.jpg
<span class="anchor" id="line-8"></span>    │   └── img2.png
<span class="anchor" id="line-9"></span>    └── js
<span class="anchor" id="line-10"></span>        └── widgets.js</pre><span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span><p class="line874">And, supposing in one of your templates, you want to use some of your static assets, like this: <span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span><p class="line867"><span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><pre><span class="anchor" id="line-1-1"></span>&lt;link rel="stylesheet" link href="/static/css/base.css"&gt;
<span class="anchor" id="line-2-1"></span>&lt;script type="text/javascript" src="/static/js/widgets.js"&gt;&lt;/script&gt;
<span class="anchor" id="line-3-1"></span>[...]
<span class="anchor" id="line-4-1"></span>&lt;img src="/static/images/img1.jpg"&gt;</pre><span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><p class="line874">The two things to note are: <span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><ol type="1"><li><p class="line862">The URLs all start with <em>/static/</em> <span class="anchor" id="line-38"></span></li><li><p class="line862">The path to the place where all your static files are stored is <em>/home/myusername/myproject/assets</em> <span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span></li></ol><p class="line874">So, what you want is a static files mapping that says: <span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><p class="line867"><strong>The URL /static/ should map to the folder /home/myusername/myproject/assets</strong> <span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><p class="line874">Hopefully you can see how, after that, the relative paths are the same? <span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span><p class="line874">So now you know what to put in the two boxes on the Static files section in the web tab. Remember to hit "reload" when you're done. To test it, visit the URL of one of your static files directly. Remember to use Ctrl+F5 to force a reload of the page. <span class="anchor" id="line-47"></span><span class="anchor" id="bottom"></span></div>
</div>
<hr>
2015-09-17 14:07
</body>
</html>
